<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>r=끝말잇기</title>
</head>
<body>
  <div><span id="order">1</span>번째 참가자</div>
  <div>제시어 : <span id="word"><span calss = 'clcl'></span></span></div>
  <input type="text" name="" id="">
  <button>입력</button>

  <script>
    //html div, span, id 수정하기 위한 선언
    const $button = document.querySelector('button'); //span tag
    const $input = document.querySelector('input'); //span tag
    const $word = document.querySelector('#word'); //id
    const $order = document.querySelector('#order'); //id
    const number = parseInt(prompt('몇 명입니까?'),10); //10진법
    //alert(number+'명 입니다.');
    //const yesOrNo = confirm('맞나요?');
    //console.log('인원 = ',number);

    //tag   : non   document.querySelector('div');
    //id    : #     document.querySelector('div #order');
    //class : .     document.querySelector('div #order .clcl');

    let keyWord;
    let inputWord;
    let personNumber = 1;

    document.querySelector('input').addEventListener('input',(event) => {
      inputWord = event.target.value;
    });

    document.querySelector('button').addEventListener('click',function() {     
      $input.value = ''; //html input 수정법
      if(!keyWord) {
        printWebsite(true);
      }
      else {
        if(keyWord[keyWord.length - 1] === inputWord[0]) { //문자변수는 배열로 사용 가능하다.
          printWebsite(true);
        }
        else {
          printWebsite(false);
        }
      }
      $input.focus();
    });

    function printWebsite(isSuccess) {
      if(isSuccess === true) {
        keyWord = inputWord;
      }
      else {
        console.log(inputWord);
        alert('틀렸습니다.');
      }
      $word.textContent = keyWord; //html 문자 수정법
      personNumber++;
      if(personNumber > number) personNumber = 1;
      $order.textContent = personNumber;
    }
  </script>
</body>
</html>